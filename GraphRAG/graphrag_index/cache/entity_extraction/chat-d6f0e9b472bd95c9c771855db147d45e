{"result": "## (\"entity\"<|>\"Taipei City\"<|>\"region\"<|>\"A major city in Taiwan known for its vibrant culture and economy.\") ## (\"entity\"<|>\"low\"<|>\"spending_behavior\"<|>\"Indicates a lower level of spending by players.\") ## (\"entity\"<|>\"mid\"<|>\"spending_behavior\"<|>\"Indicates a moderate level of spending by players.\") ## (\"entity\"<|>\"light\"<|>\"payer_type\"<|>\"Refers to players who make infrequent purchases.\") ## (\"entity\"<|>\"routine_item\"<|>\"intent\"<|>\"Refers to purchases made for regular gameplay needs.\") ## (\"entity\"<|>\"under_50\"<|>\"price_bucket\"<|>\"Indicates purchases that cost less than $50.\") ## (\"entity\"<|>\"vip_0\"<|>\"vip_group\"<|>\"Refers to players who are not part of any VIP group.\") ## (\"entity\"<|>\"event_or_powerup\"<|>\"intent\"<|>\"Refers to purchases made for special events or power-ups.\") ## (\"relationship\"<|>\"Taipei City\"<|>\"low\"<|>\"represents spending behavior in the region\"<|>\"strong\") ## (\"relationship\"<|>\"Taipei City\"<|>\"mid\"<|>\"represents spending behavior in the region\"<|>\"strong\") ## (\"relationship\"<|>\"light\"<|>\"routine_item\"<|>\"indicates typical purchase behavior of light spenders\"<|>\"moderate\") ## (\"relationship\"<|>\"light\"<|>\"event_or_powerup\"<|>\"indicates occasional purchases by light spenders\"<|>\"weak\") ## (\"relationship\"<|>\"low\"<|>\"under_50\"<|>\"indicates spending behavior associated with lower price range\"<|>\"strong\") ## (\"relationship\"<|>\"mid\"<|>\"under_50\"<|>\"indicates spending behavior associated with moderate price range\"<|>\"weak\") ## (\"relationship\"<|>\"vip_0\"<|>\"light\"<|>\"indicates the payer type of non-VIP players\"<|>\"strong\") ## (\"relationship\"<|>\"vip_0\"<|>\"low\"<|>\"indicates the spending behavior of non-VIP players\"<|>\"strong\") ## (\"relationship\"<|>\"vip_0\"<|>\"mid\"<|>\"indicates the spending behavior of non-VIP players\"<|>\"weak\") <|COMPLETE|>", "input": "# ============================\n#  Entity Extraction Prompt\n#  Optimized for Game Transaction Knowledge Graph\n# ============================\n\nYour task is to extract ONLY the allowed, predefined entity types from the text.\nDo NOT infer new entity types. Do NOT extract narrative nouns or descriptive phrases.\n\nAllowed entity_types:\n- region\n- spending_behavior\n- payer_type\n- intent\n- price_bucket\n- vip_group\n\n============================\nRULES\n============================\n\n1. You MUST extract ONLY entities that directly match the above categories.\n\n2. You MUST ignore:\n- transaction IDs\n- order numbers\n- player IDs\n- dates\n- amounts (unless converted to price_bucket)\n- any natural-language phrases from summaries\n- adjectives or descriptive language\n- any nouns not explicitly listed in allowed types\n\n3. For each entity, return:\n(\"entity\"<|><entity_name><|><entity_type><|><entity_description>)\n\n4. For each relationship between two extracted entities:\n(\"relationship\"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n5. You MUST NOT create relationships involving text fragments or inferred narrative concepts.\n\n6. Only extract entities like:\n- Region names (e.g., \u201cTaipei City\u201d, \u201cTainan City\u201d, \u201cKaohsiung City\u201d)\n- spending_behavior labels (\u201clow\u201d, \u201cmid_low\u201d, \u201cmid\u201d, \u201chigh\u201d)\n- payer_type labels (\u201clight\u201d, \u201cmid\u201d, \u201cstable\u201d)\n- intent labels (\u201croutine_item\u201d, \u201cprogress_boost\u201d, \u201cevent_or_powerup\u201d, \u201cheavy_purchase\u201d)\n- price_bucket categories (\u201cunder_50\u201d, \u201c50_200\u201d, etc.)\n- vip_group (\u201cvip_0\u201d, \u201cvip_1\u201d, \u201cvip_2plus\u201d)\n\n7. If something is not part of these categories, DO NOT extract it.\n\n8. The output must include ONLY these controlled entities and their relationships.\n\n============================\nGOAL\n============================\n\nProduce a SMALL, STABLE set of reusable entities (~10\u201350) that represent:\n- player behavior patterns\n- core regions\n- spending types\n- VIP groups\n- intents\n\nDo NOT generate hundreds of nodes.\n\n============================\nOUTPUT FORMAT\n============================\n\nReturn all entities and relationships in a single list,\nusing ## as delimiter, and end with <|COMPLETE|>.\n", "parameters": {"model": "gpt-4o-mini", "temperature": 0.0, "frequency_penalty": 0.0, "presence_penalty": 0.0, "top_p": 1.0, "max_tokens": 4000, "n": 1}}